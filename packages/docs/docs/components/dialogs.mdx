import { Dialogs } from "@sparrowengg/twigs-react";

# Dialogs

### Import

```jsx
import { Dialogs, dialogs } from "@sparrowengg/twigs-react";
```

### Usage

Add `Dialogs` to a top level component like `App` and you can call `openDialog` or `pushDialog` to open new dialogs.

```jsx live
<div>
  <Button
    onClick={() => {
      dialogs.openDialog("confirm", {
        title: "Are you sure you want to perform this action",
        content: "You can perform this action again.",
        labels: {
          confirm: "Yes, I am sure",
          cancel: "Cancel",
        },
        confirmButtonProps: {
          color: "error",
        },
      });
    }}
  >
    Open Dialog
  </Button>
  <Dialogs />
</div>
```

### Props

| Property      | Description                                               | Type   | Default |
| ------------- | --------------------------------------------------------- | ------ | ------- |
| customDialogs | Custom dialogs that can be opened using `dialogs` methods | object | {}      |

Example:

```tsx
<Dialogs
  customDialogs={{
    deleteModal: DeleteModal,
  }}
/>;

const DeleteModal = ({ title, onDelete }) => {
  return <Modal defaultOpen>{/* Content */}</Modal>;
};
```

### Methods

#### dialogs.openDialog(dialogName, options)

| Parameter  | Description                                                                                                                                                                                                        | Type   | Default |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------ | ------- |
| dialogName | The dialog that should be opened. Three dialogs are included by default - alert, confirm and modal. You can replace these dialogs or add new ones by using the `customDialogs` property in the `Dialogs` component | string | ' '     |
| options    | Options supported by the dialog that you wish to trigger, these options might be different for different dialogs                                                                                                   | object | {}      |

Returns object with two properties

| Name     | Type     | Description                                                 |
| -------- | -------- | ----------------------------------------------------------- |
| close    | Function | Can be called to close the dialog manually                  |
| dialogId | number   | Can be used to close the dialog using `dialogs.closeDialog` |

#### dialogs.pushDialog(dialogName, options)

The parameters and return types are same as that of openDialog, the only difference is that `pushDialog` doesn't close existing modals

#### dialogs.closeDialog(dialogId)

Used to close a particular dialog

#### dialogs.closeAllDialogs()

Used to close all open dialogs

### Typesafe options

When creating custom dialogs, you can ensure type safety to `openDialog` and `pushDialog` by overriding the `DialogOptionsOverride` interface as shown below

```tsx
declare module "@sparrowengg/twigs-react" {
  export interface DialogOptionsOverride {
    deleteModal: {
      title: string;
      onDelete: () => void;
    };
  }
}
```
